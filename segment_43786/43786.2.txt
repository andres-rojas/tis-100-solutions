@0
## OPTIMIZE
MOV RIGHT, ACC
SWP
MOV RIGHT, ACC

>: SWP
JEZ EZ

SUB 1
SWP
MOV ACC, DOWN
MOV ACC, DOWN
JMP >

EZ: MOV -1, DOWN

@1
NEXT: MOV UP, ACC
MOV ACC, RIGHT
MOV ACC, RIGHT

MOV UP, ACC
SAV
SUB RIGHT
JLZ LZ
SWP
MOV RIGHT, LEFT
MOV ACC, LEFT
JMP NEXT
LZ: SWP
MOV ACC, LEFT
MOV RIGHT, LEFT

@2
MOV UP, ACC
SAV
SUB LEFT
JLZ LZ
SWP
MOV LEFT, DOWN
MOV ACC, DOWN
JMP NEXT
LZ: SWP
MOV ACC, DOWN
MOV LEFT, DOWN

NEXT: MOV UP, ACC
MOV ACC, LEFT
MOV ACC, LEFT

@3
MOV UP, ACC
MOV ACC, RIGHT
MOV ACC, RIGHT

MOV RIGHT, LEFT
MOV UP, LEFT

@4
<: MOV LEFT, ACC
JLZ LZ

SWP
ADD LEFT
SWP
JMP <

LZ: ADD 1
SWP
MOV ACC, DOWN

@5
MOV UP, ACC
SWP
MOV UP, ACC

>: SWP
JEZ EZ

SUB 1
SWP
MOV ACC, RIGHT
MOV ACC, RIGHT
JMP >

EZ: MOV -1, RIGHT

@6
MOV UP, RIGHT

@7
MOV RIGHT, DOWN
MOV LEFT, DOWN

@8
<: MOV UP, ACC
JLZ LZ

SWP
ADD UP
SWP
JMP <

LZ: ADD 1
SWP
MOV ACC, LEFT